"use strict";(self.webpackChunkyunheur_react_core=self.webpackChunkyunheur_react_core||[]).push([[798],{"./src/components/core/dataEntry/Editor/Editor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Editor_Editor});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),react=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/react/index.js")),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),lodash_default=__webpack_require__.n(lodash),lib=__webpack_require__("./node_modules/react-quill/lib/index.js"),lib_default=__webpack_require__.n(lib),image_resize_min=(__webpack_require__("./node_modules/react-quill/dist/quill.snow.css"),__webpack_require__("./node_modules/quill-image-resize/image-resize.min.js")),image_resize_min_default=__webpack_require__.n(image_resize_min),emotion_element_cbed451f_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),utils_styles=__webpack_require__("./src/utils/styles.ts"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),Editor=function Editor(_ref){var html=_ref.html,setHtml=_ref.setHtml,styles=_ref.styles,quillRef=react.useRef(null),imageHandler=react.useCallback((function(){var input=document.createElement("input");input.setAttribute("type","file"),input.click(),input.onchange=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var url,index,quillEditor;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:lodash_default().head(input.files),"",lodash_default().isEmpty("")||("",url="".url,lodash_default().isObject(quillRef.current)&&(index=quillRef.current.getEditor().getSelection().index,(quillEditor=quillRef.current.getEditor()).setSelection(index,1),quillEditor.clipboard.dangerouslyPasteHTML(index,"<img src="+url+" alt= />")));case 3:case"end":return _context.stop()}}),_callee)})))}),[]),modules=react.useMemo((function(){return{toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"]],handlers:{image:imageHandler}},ImageResize:{parchment:lib.Quill.import("parchment")}}}),[imageHandler]),formats=react.useMemo((function(){return["font","header","bold","italic","underline","strike","blockquote","code-block","formula","list","bullet","indent","link","image","video","align","color","background"]}),[]);console.log("Editor",html);var theme=(0,emotion_element_cbed451f_browser_esm.a)(),baseStyles=function baseFn(_ref){var _qlEditor,theme=_ref.theme;return{control:{backgroundColor:"white",".ql-toolbar":{border:"1px solid "+theme.colors.gray[200]+" !important",borderRadius:"8px 8px 0 0"},".ql-container":{border:"1px solid "+theme.colors.gray[200]+" !important",borderTop:"none !important",borderRadius:"0 0 8px 8px",".ql-editor":(_qlEditor={},_qlEditor[theme.mediaQueries.tablet]={fontSize:14},_qlEditor[theme.mediaQueries.desktop]={fontSize:16},_qlEditor.strong={fontWeight:600},_qlEditor.em={fontStyle:"italic"},_qlEditor)}}}}({theme}),determinedStyles=(0,utils_styles.q)(baseStyles,{theme},styles);return(0,emotion_react_browser_esm.tZ)(lib_default(),{ref:quillRef,className:"editor",css:determinedStyles.control,theme:"snow",modules,formats,value:html,placeholder:"내용을 입력해주세요.",onChange:setHtml,style:{userSelect:"auto",WebkitUserSelect:"auto"}})};Editor.displayName="Editor",lib.Quill.register("modules/ImageResize",image_resize_min_default()),lib.Quill.import("formats/link").sanitize=function(url){return url.startsWith("http://")||url.startsWith("https://")?url:"http://"+url};const Editor_Editor=react.memo(Editor);try{Editor.displayName="Editor",Editor.__docgenInfo={description:"TODO:\n- html 렌더링 뷰어 컴포넌트 필요 : https://github.com/bigtechsolution/collexx-new-web/commit/74d52db5034ad0f2eef39c45a45973d2cfb2a4cb\n- 파일 업로드 연동",displayName:"Editor",props:{html:{defaultValue:null,description:"",name:"html",required:!0,type:{name:"string"}},setHtml:{defaultValue:null,description:"",name:"setHtml",required:!0,type:{name:"(html: string) => void"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"StylesConfig<Elements, StypesConfigProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/core/dataEntry/Editor/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/components/core/dataEntry/Editor/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}}}]);